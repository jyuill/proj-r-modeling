---
title: "Tidymodels-01"
author: "John Yuill"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
## basic settings
knitr::opts_chunk$set(echo = FALSE,
                      message=FALSE,
                      warning=FALSE
                      )

## load common libraries
library(tidymodels)
library(tidyverse)
library(lubridate)
library(scales)
library(plotly)
library(PerformanceAnalytics)
library(here)

## Reference: R Markdown cheatsheet
## https://www.rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf

## set ggplot theme
theme_set(theme_bw())
```

## Objective {.tabset}

Explorations and examples of using 'tidymodels' pkg/approach and/or related components.

Reference:

* [tidymodels learning doc](https://www.tidymodels.org/learn/)
* video: [Predictive modeling with tidymodels and NFL attendance - Julia Silge](https://www.youtube.com/watch?v=LPptRkGoYMg&t=141s)

Using website data to answer questions: **NEED TO REVISIT: NOT ENOUGH DATA**

* can we predict bounce rate based on channel?
* can we predict pageviews per session by channel?

### Get/Clean/Explore

Get data, clean it up, explore it to understand it better and determine whethe/how it will be suitable for prediction.

#### Import and check

```{r}
web_data <- read_csv(here::here('data','website-channel-landing.csv'))

glimpse(web_data)
any(is.na(web_data))

```

#### Clean

* Summarize by channel and drop landing page
* Calculate bounce rate metric

```{r}
web_data <- web_data %>% select(-`Landing Page`)

web_data %>% ggplot(aes(x=Sessions, y=Bounces))+geom_point()
```

